{"ast":null,"code":"\"use strict\";\n\n/**\n  * @reach/dropdown v0.18.0\n  *\n  * Copyright (c) 2018-2022, React Training LLC\n  *\n  * This source code is licensed under the MIT license found in the\n  * LICENSE.md file in the root directory of this source tree.\n  *\n  * @license MIT\n  */\n\n// src/reach-dropdown.tsx\nimport * as React from \"react\";\nimport { useId } from \"@reach/auto-id\";\nimport { Popover } from \"@reach/popover\";\nimport { createDescendantContext, DescendantProvider, useDescendant, useDescendants, useDescendantsInit, useDescendantKeyDown } from \"@reach/descendants\";\nimport { composeEventHandlers, createContext, getOwnerDocument, isFunction, isString, isRightClick, useComposedRefs, usePrevious, useStatefulRefValue, makeId } from \"@reach/utils\";\nvar CLEAR_SELECTION_INDEX = \"CLEAR_SELECTION_INDEX\";\nvar CLICK_MENU_ITEM = \"CLICK_MENU_ITEM\";\nvar CLOSE_MENU = \"CLOSE_MENU\";\nvar OPEN_MENU_AT_FIRST_ITEM = \"OPEN_MENU_AT_FIRST_ITEM\";\nvar OPEN_MENU_AT_INDEX = \"OPEN_MENU_AT_INDEX\";\nvar OPEN_MENU_CLEARED = \"OPEN_MENU_CLEARED\";\nvar SEARCH_FOR_ITEM = \"SEARCH_FOR_ITEM\";\nvar SELECT_ITEM_AT_INDEX = \"SELECT_ITEM_AT_INDEX\";\nvar SET_BUTTON_ID = \"SET_BUTTON_ID\";\nvar DropdownDescendantContext = createDescendantContext(\"DropdownDescendantContext\");\nvar [DropdownProvider, useDropdownContext] = createContext(\"Dropdown\");\nvar initialState = {\n  triggerId: null,\n  isExpanded: false,\n  typeaheadQuery: \"\",\n  selectionIndex: -1\n};\nvar DropdownProvider_ = ({\n  id,\n  children\n}) => {\n  let triggerRef = React.useRef(null);\n  let dropdownRef = React.useRef(null);\n  let popoverRef = React.useRef(null);\n  let [descendants, setDescendants] = useDescendantsInit();\n  let _id = useId(id);\n  let dropdownId = id || makeId(\"menu\", _id);\n  let triggerId = makeId(\"menu-button\", dropdownId);\n  let [state, dispatch] = React.useReducer(reducer, {\n    ...initialState,\n    triggerId\n  });\n  let triggerClickedRef = React.useRef(false);\n  let selectCallbacks = React.useRef([]);\n  let readyToSelect = React.useRef(false);\n  let mouseDownStartPosRef = React.useRef({\n    x: 0,\n    y: 0\n  });\n  React.useEffect(() => {\n    if (state.isExpanded) {\n      window.__REACH_DISABLE_TOOLTIPS = true;\n      window.requestAnimationFrame(() => {\n        focus(dropdownRef.current);\n      });\n    } else {\n      window.__REACH_DISABLE_TOOLTIPS = false;\n    }\n  }, [state.isExpanded]);\n  return /* @__PURE__ */React.createElement(DescendantProvider, {\n    context: DropdownDescendantContext,\n    items: descendants,\n    set: setDescendants\n  }, /* @__PURE__ */React.createElement(DropdownProvider, {\n    dispatch,\n    dropdownId,\n    dropdownRef,\n    mouseDownStartPosRef,\n    popoverRef,\n    readyToSelect,\n    selectCallbacks,\n    state,\n    triggerClickedRef,\n    triggerRef\n  }, isFunction(children) ? children({\n    isExpanded: state.isExpanded,\n    isOpen: state.isExpanded\n  }) : children));\n};\nDropdownProvider_.displayName = \"DropdownProvider\";\nfunction useDropdownTrigger({\n  onKeyDown,\n  onMouseDown,\n  id,\n  ref: forwardedRef,\n  ...props\n}) {\n  let {\n    dispatch,\n    dropdownId,\n    mouseDownStartPosRef,\n    triggerClickedRef,\n    triggerRef,\n    state: {\n      triggerId,\n      isExpanded\n    }\n  } = useDropdownContext(\"useDropdownTrigger\");\n  let ref = useComposedRefs(triggerRef, forwardedRef);\n  let items = useDropdownDescendants();\n  let firstNonDisabledIndex = React.useMemo(() => items.findIndex(item => !item.disabled), [items]);\n  React.useEffect(() => {\n    if (id != null && id !== triggerId) {\n      dispatch({\n        type: SET_BUTTON_ID,\n        payload: id\n      });\n    }\n  }, [triggerId, dispatch, id]);\n  React.useEffect(() => {\n    if (id == null) {\n      dispatch({\n        type: SET_BUTTON_ID,\n        payload: makeId(\"menu-button\", dropdownId)\n      });\n    }\n  }, [dropdownId, dispatch, id]);\n  function handleKeyDown(event) {\n    switch (event.key) {\n      case \"ArrowDown\":\n      case \"ArrowUp\":\n        event.preventDefault();\n        dispatch({\n          type: OPEN_MENU_AT_INDEX,\n          payload: {\n            index: firstNonDisabledIndex\n          }\n        });\n        break;\n      case \"Enter\":\n      case \" \":\n        dispatch({\n          type: OPEN_MENU_AT_INDEX,\n          payload: {\n            index: firstNonDisabledIndex\n          }\n        });\n        break;\n      default:\n        break;\n    }\n  }\n  function handleMouseDown(event) {\n    if (isRightClick(event.nativeEvent)) {\n      return;\n    }\n    mouseDownStartPosRef.current = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    if (!isExpanded) {\n      triggerClickedRef.current = true;\n    }\n    if (isExpanded) {\n      dispatch({\n        type: CLOSE_MENU\n      });\n    } else {\n      dispatch({\n        type: OPEN_MENU_CLEARED\n      });\n    }\n  }\n  return {\n    data: {\n      isExpanded,\n      controls: dropdownId\n    },\n    props: {\n      ...props,\n      ref,\n      id: triggerId || void 0,\n      onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown),\n      onMouseDown: composeEventHandlers(onMouseDown, handleMouseDown),\n      type: \"button\"\n    }\n  };\n}\nvar DropdownTrigger = React.forwardRef(({\n  as: Comp = \"button\",\n  ...rest\n}, forwardedRef) => {\n  let {\n    props\n  } = useDropdownTrigger({\n    ...rest,\n    ref: forwardedRef\n  });\n  return /* @__PURE__ */React.createElement(Comp, {\n    \"data-reach-dropdown-trigger\": \"\",\n    ...props\n  });\n});\nDropdownTrigger.displayName = \"DropdownTrigger\";\nfunction useDropdownItem({\n  index: indexProp,\n  isLink = false,\n  onClick,\n  onDragStart,\n  onMouseDown,\n  onMouseEnter,\n  onMouseLeave,\n  onMouseMove,\n  onMouseUp,\n  onSelect,\n  disabled,\n  onFocus,\n  valueText: valueTextProp,\n  ref: forwardedRef,\n  ...props\n}) {\n  let {\n    dispatch,\n    dropdownRef,\n    mouseDownStartPosRef,\n    readyToSelect,\n    selectCallbacks,\n    triggerRef,\n    state: {\n      selectionIndex,\n      isExpanded\n    }\n  } = useDropdownContext(\"useDropdownItem\");\n  let ownRef = React.useRef(null);\n  let [valueText, setValueText] = React.useState(valueTextProp || \"\");\n  let setValueTextFromDOM = React.useCallback(node => {\n    if (!valueTextProp && node?.textContent) {\n      setValueText(node.textContent);\n    }\n  }, [valueTextProp]);\n  let mouseEventStarted = React.useRef(false);\n  let [element, handleRefSet] = useStatefulRefValue(ownRef, null);\n  let descendant = React.useMemo(() => {\n    return {\n      element,\n      key: valueText,\n      disabled,\n      isLink\n    };\n  }, [disabled, element, isLink, valueText]);\n  let index = useDescendant(descendant, DropdownDescendantContext, indexProp);\n  let isSelected = index === selectionIndex && !disabled;\n  let ref = useComposedRefs(forwardedRef, handleRefSet, setValueTextFromDOM);\n  selectCallbacks.current[index] = onSelect;\n  function select() {\n    focus(triggerRef.current);\n    onSelect && onSelect();\n    dispatch({\n      type: CLICK_MENU_ITEM\n    });\n  }\n  function handleClick(event) {\n    if (isRightClick(event.nativeEvent)) {\n      return;\n    }\n    if (isLink) {\n      if (disabled) {\n        event.preventDefault();\n      } else {\n        select();\n      }\n    }\n  }\n  function handleDragStart(event) {\n    if (isLink) {\n      event.preventDefault();\n    }\n  }\n  function handleMouseDown(event) {\n    if (isRightClick(event.nativeEvent)) {\n      return;\n    }\n    if (isLink) {\n      mouseEventStarted.current = true;\n    } else {\n      event.preventDefault();\n    }\n  }\n  function handleMouseEnter(event) {\n    let doc = getOwnerDocument(dropdownRef.current);\n    if (!isSelected && index != null && !disabled) {\n      if (dropdownRef?.current && dropdownRef.current !== doc.activeElement && ownRef.current !== doc.activeElement) {\n        dropdownRef.current.focus();\n      }\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index\n        }\n      });\n    }\n  }\n  function handleMouseLeave(event) {\n    dispatch({\n      type: CLEAR_SELECTION_INDEX\n    });\n  }\n  function handleMouseMove(event) {\n    if (!readyToSelect.current) {\n      let threshold = 8;\n      let deltaX = Math.abs(event.clientX - mouseDownStartPosRef.current.x);\n      let deltaY = Math.abs(event.clientY - mouseDownStartPosRef.current.y);\n      if (deltaX > threshold || deltaY > threshold) {\n        readyToSelect.current = true;\n      }\n    }\n    if (!isSelected && index != null && !disabled) {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index,\n          dropdownRef\n        }\n      });\n    }\n  }\n  function handleFocus() {\n    readyToSelect.current = true;\n    if (!isSelected && index != null && !disabled) {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index\n        }\n      });\n    }\n  }\n  function handleMouseUp(event) {\n    if (isRightClick(event.nativeEvent)) {\n      return;\n    }\n    if (!readyToSelect.current) {\n      readyToSelect.current = true;\n      return;\n    }\n    if (isLink) {\n      if (mouseEventStarted.current) {\n        mouseEventStarted.current = false;\n      } else if (ownRef.current) {\n        ownRef.current.click();\n      }\n    } else {\n      if (!disabled) {\n        select();\n      }\n    }\n  }\n  React.useEffect(() => {\n    if (isExpanded) {\n      let id = window.setTimeout(() => {\n        readyToSelect.current = true;\n      }, 400);\n      return () => {\n        window.clearTimeout(id);\n      };\n    } else {\n      readyToSelect.current = false;\n    }\n  }, [isExpanded, readyToSelect]);\n  React.useEffect(() => {\n    let ownerDocument = getOwnerDocument(ownRef.current);\n    ownerDocument.addEventListener(\"mouseup\", listener);\n    return () => {\n      ownerDocument.removeEventListener(\"mouseup\", listener);\n    };\n    function listener() {\n      mouseEventStarted.current = false;\n    }\n  }, []);\n  return {\n    data: {\n      disabled\n    },\n    props: {\n      id: useItemId(index),\n      tabIndex: -1,\n      ...props,\n      ref,\n      \"data-disabled\": disabled ? \"\" : void 0,\n      \"data-selected\": isSelected ? \"\" : void 0,\n      \"data-valuetext\": valueText,\n      onClick: composeEventHandlers(onClick, handleClick),\n      onDragStart: composeEventHandlers(onDragStart, handleDragStart),\n      onMouseDown: composeEventHandlers(onMouseDown, handleMouseDown),\n      onMouseEnter: composeEventHandlers(onMouseEnter, handleMouseEnter),\n      onMouseLeave: composeEventHandlers(onMouseLeave, handleMouseLeave),\n      onMouseMove: composeEventHandlers(onMouseMove, handleMouseMove),\n      onFocus: composeEventHandlers(onFocus, handleFocus),\n      onMouseUp: composeEventHandlers(onMouseUp, handleMouseUp)\n    }\n  };\n}\nvar DropdownItem = React.forwardRef(({\n  as: Comp = \"div\",\n  ...rest\n}, forwardedRef) => {\n  let {\n    props\n  } = useDropdownItem({\n    ...rest,\n    ref: forwardedRef\n  });\n  return /* @__PURE__ */React.createElement(Comp, {\n    \"data-reach-dropdown-item\": \"\",\n    ...props\n  });\n});\nDropdownItem.displayName = \"DropdownItem\";\nfunction useDropdownItems({\n  id,\n  onKeyDown,\n  ref: forwardedRef,\n  ...props\n}) {\n  let {\n    dispatch,\n    triggerRef,\n    dropdownRef,\n    selectCallbacks,\n    dropdownId,\n    state: {\n      isExpanded,\n      triggerId,\n      selectionIndex,\n      typeaheadQuery\n    }\n  } = useDropdownContext(\"useDropdownItems\");\n  let items = useDropdownDescendants();\n  let ref = useComposedRefs(dropdownRef, forwardedRef);\n  React.useEffect(() => {\n    let match = findItemFromTypeahead(items, typeaheadQuery);\n    if (typeaheadQuery && match != null) {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index: match,\n          dropdownRef\n        }\n      });\n    }\n    let timeout = window.setTimeout(() => typeaheadQuery && dispatch({\n      type: SEARCH_FOR_ITEM,\n      payload: \"\"\n    }), 1e3);\n    return () => window.clearTimeout(timeout);\n  }, [dispatch, items, typeaheadQuery, dropdownRef]);\n  let prevItemsLength = usePrevious(items.length);\n  let prevSelected = usePrevious(items[selectionIndex]);\n  let prevSelectionIndex = usePrevious(selectionIndex);\n  React.useEffect(() => {\n    if (selectionIndex > items.length - 1) {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index: items.length - 1,\n          dropdownRef\n        }\n      });\n    } else if (prevItemsLength !== items.length && selectionIndex > -1 && prevSelected && prevSelectionIndex === selectionIndex && items[selectionIndex] !== prevSelected) {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index: items.findIndex(i => i.key === prevSelected?.key),\n          dropdownRef\n        }\n      });\n    }\n  }, [dropdownRef, dispatch, items, prevItemsLength, prevSelected, prevSelectionIndex, selectionIndex]);\n  let handleKeyDown = composeEventHandlers(function handleKeyDown2(event) {\n    let {\n      key\n    } = event;\n    if (!isExpanded) {\n      return;\n    }\n    switch (key) {\n      case \"Enter\":\n      case \" \":\n        let selected = items.find(item => item.index === selectionIndex);\n        if (selected && !selected.disabled) {\n          event.preventDefault();\n          if (selected.isLink && selected.element) {\n            selected.element.click();\n          } else {\n            focus(triggerRef.current);\n            selectCallbacks.current[selected.index] && selectCallbacks.current[selected.index]();\n            dispatch({\n              type: CLICK_MENU_ITEM\n            });\n          }\n        }\n        break;\n      case \"Escape\":\n        focus(triggerRef.current);\n        dispatch({\n          type: CLOSE_MENU\n        });\n        break;\n      case \"Tab\":\n        event.preventDefault();\n        break;\n      default:\n        if (isString(key) && key.length === 1) {\n          let query = typeaheadQuery + key.toLowerCase();\n          dispatch({\n            type: SEARCH_FOR_ITEM,\n            payload: query\n          });\n        }\n        break;\n    }\n  }, useDescendantKeyDown(DropdownDescendantContext, {\n    currentIndex: selectionIndex,\n    orientation: \"vertical\",\n    rotate: false,\n    filter: item => !item.disabled,\n    callback: index => {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index,\n          dropdownRef\n        }\n      });\n    },\n    key: \"index\"\n  }));\n  return {\n    data: {\n      activeDescendant: useItemId(selectionIndex) || void 0,\n      triggerId\n    },\n    props: {\n      tabIndex: -1,\n      ...props,\n      ref,\n      id: dropdownId,\n      onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown)\n    }\n  };\n}\nvar DropdownItems = React.forwardRef(({\n  as: Comp = \"div\",\n  ...rest\n}, forwardedRef) => {\n  let {\n    props\n  } = useDropdownItems({\n    ...rest,\n    ref: forwardedRef\n  });\n  return /* @__PURE__ */React.createElement(Comp, {\n    \"data-reach-dropdown-items\": \"\",\n    ...props\n  });\n});\nDropdownItems.displayName = \"DropdownItems\";\nfunction useDropdownPopover({\n  onBlur,\n  portal = true,\n  position,\n  ref: forwardedRef,\n  ...props\n}) {\n  let {\n    triggerRef,\n    triggerClickedRef,\n    dispatch,\n    dropdownRef,\n    popoverRef,\n    state: {\n      isExpanded\n    }\n  } = useDropdownContext(\"useDropdownPopover\");\n  let ref = useComposedRefs(popoverRef, forwardedRef);\n  React.useEffect(() => {\n    if (!isExpanded) {\n      return;\n    }\n    let ownerDocument = getOwnerDocument(popoverRef.current);\n    function listener(event) {\n      if (triggerClickedRef.current) {\n        triggerClickedRef.current = false;\n      } else if (!popoverContainsEventTarget(popoverRef.current, event.target)) {\n        dispatch({\n          type: CLOSE_MENU\n        });\n      }\n    }\n    ownerDocument.addEventListener(\"mousedown\", listener);\n    return () => {\n      ownerDocument.removeEventListener(\"mousedown\", listener);\n    };\n  }, [triggerClickedRef, triggerRef, dispatch, dropdownRef, popoverRef, isExpanded]);\n  return {\n    data: {\n      portal,\n      position,\n      targetRef: triggerRef,\n      isExpanded\n    },\n    props: {\n      ref,\n      hidden: !isExpanded,\n      onBlur: composeEventHandlers(onBlur, event => {\n        if (event.currentTarget.contains(event.relatedTarget)) {\n          return;\n        }\n        dispatch({\n          type: CLOSE_MENU\n        });\n      }),\n      ...props\n    }\n  };\n}\nvar DropdownPopover = React.forwardRef(({\n  as: Comp = \"div\",\n  ...rest\n}, forwardedRef) => {\n  let {\n    data: {\n      portal,\n      targetRef,\n      position\n    },\n    props\n  } = useDropdownPopover({\n    ...rest,\n    ref: forwardedRef\n  });\n  let sharedProps = {\n    \"data-reach-dropdown-popover\": \"\"\n  };\n  return portal ? /* @__PURE__ */React.createElement(Popover, {\n    ...props,\n    ...sharedProps,\n    as: Comp,\n    targetRef,\n    position,\n    unstable_skipInitialPortalRender: true\n  }) : /* @__PURE__ */React.createElement(Comp, {\n    ...props,\n    ...sharedProps\n  });\n});\nDropdownPopover.displayName = \"DropdownPopover\";\nfunction findItemFromTypeahead(items, string = \"\") {\n  if (!string) {\n    return null;\n  }\n  let found = items.find(item => {\n    return item.disabled ? false : item.element?.dataset?.valuetext?.toLowerCase().startsWith(string);\n  });\n  return found ? items.indexOf(found) : null;\n}\nfunction useItemId(index) {\n  let {\n    dropdownId\n  } = useDropdownContext(\"useItemId\");\n  return index != null && index > -1 ? makeId(`option-${index}`, dropdownId) : void 0;\n}\nfunction focus(element) {\n  element && element.focus();\n}\nfunction popoverContainsEventTarget(popover, target) {\n  return !!(popover && popover.contains(target));\n}\nfunction reducer(state, action = {}) {\n  switch (action.type) {\n    case CLICK_MENU_ITEM:\n      return {\n        ...state,\n        isExpanded: false,\n        selectionIndex: -1\n      };\n    case CLOSE_MENU:\n      return {\n        ...state,\n        isExpanded: false,\n        selectionIndex: -1\n      };\n    case OPEN_MENU_AT_FIRST_ITEM:\n      return {\n        ...state,\n        isExpanded: true,\n        selectionIndex: 0\n      };\n    case OPEN_MENU_AT_INDEX:\n      return {\n        ...state,\n        isExpanded: true,\n        selectionIndex: action.payload.index\n      };\n    case OPEN_MENU_CLEARED:\n      return {\n        ...state,\n        isExpanded: true,\n        selectionIndex: -1\n      };\n    case SELECT_ITEM_AT_INDEX:\n      {\n        let {\n          dropdownRef = {\n            current: null\n          }\n        } = action.payload;\n        if (action.payload.index >= 0 && action.payload.index !== state.selectionIndex) {\n          if (dropdownRef.current) {\n            let doc = getOwnerDocument(dropdownRef.current);\n            if (dropdownRef.current !== doc?.activeElement) {\n              dropdownRef.current.focus();\n            }\n          }\n          return {\n            ...state,\n            selectionIndex: action.payload.max != null ? Math.min(Math.max(action.payload.index, 0), action.payload.max) : Math.max(action.payload.index, 0)\n          };\n        }\n        return state;\n      }\n    case CLEAR_SELECTION_INDEX:\n      return {\n        ...state,\n        selectionIndex: -1\n      };\n    case SET_BUTTON_ID:\n      return {\n        ...state,\n        triggerId: action.payload\n      };\n    case SEARCH_FOR_ITEM:\n      if (typeof action.payload !== \"undefined\") {\n        return {\n          ...state,\n          typeaheadQuery: action.payload\n        };\n      }\n      return state;\n    default:\n      return state;\n  }\n}\nfunction useDropdownDescendants() {\n  return useDescendants(DropdownDescendantContext);\n}\nexport { DropdownItem, DropdownItems, DropdownPopover, DropdownProvider_ as DropdownProvider, DropdownTrigger, useDropdownContext, useDropdownDescendants, useDropdownItem, useDropdownItems, useDropdownPopover, useDropdownTrigger };","map":{"version":3,"names":["React","useId","Popover","createDescendantContext","DescendantProvider","useDescendant","useDescendants","useDescendantsInit","useDescendantKeyDown","composeEventHandlers","createContext","getOwnerDocument","isFunction","isString","isRightClick","useComposedRefs","usePrevious","useStatefulRefValue","makeId","CLEAR_SELECTION_INDEX","CLICK_MENU_ITEM","CLOSE_MENU","OPEN_MENU_AT_FIRST_ITEM","OPEN_MENU_AT_INDEX","OPEN_MENU_CLEARED","SEARCH_FOR_ITEM","SELECT_ITEM_AT_INDEX","SET_BUTTON_ID","DropdownDescendantContext","DropdownProvider","useDropdownContext","initialState","triggerId","isExpanded","typeaheadQuery","selectionIndex","DropdownProvider_","id","children","triggerRef","useRef","dropdownRef","popoverRef","descendants","setDescendants","_id","dropdownId","state","dispatch","useReducer","reducer","triggerClickedRef","selectCallbacks","readyToSelect","mouseDownStartPosRef","x","y","useEffect","window","__REACH_DISABLE_TOOLTIPS","requestAnimationFrame","focus","current","createElement","context","items","set","isOpen","displayName","useDropdownTrigger","onKeyDown","onMouseDown","ref","forwardedRef","props","useDropdownDescendants","firstNonDisabledIndex","useMemo","findIndex","item","disabled","type","payload","handleKeyDown","event","key","preventDefault","index","handleMouseDown","nativeEvent","clientX","clientY","data","controls","DropdownTrigger","forwardRef","as","Comp","rest","useDropdownItem","indexProp","isLink","onClick","onDragStart","onMouseEnter","onMouseLeave","onMouseMove","onMouseUp","onSelect","onFocus","valueText","valueTextProp","ownRef","setValueText","useState","setValueTextFromDOM","useCallback","node","textContent","mouseEventStarted","element","handleRefSet","descendant","isSelected","select","handleClick","handleDragStart","handleMouseEnter","doc","activeElement","handleMouseLeave","handleMouseMove","threshold","deltaX","Math","abs","deltaY","handleFocus","handleMouseUp","click","setTimeout","clearTimeout","ownerDocument","addEventListener","listener","removeEventListener","useItemId","tabIndex","DropdownItem","useDropdownItems","match","findItemFromTypeahead","timeout","prevItemsLength","length","prevSelected","prevSelectionIndex","i","handleKeyDown2","selected","find","query","toLowerCase","currentIndex","orientation","rotate","filter","callback","activeDescendant","DropdownItems","useDropdownPopover","onBlur","portal","position","popoverContainsEventTarget","target","targetRef","hidden","currentTarget","contains","relatedTarget","DropdownPopover","sharedProps","unstable_skipInitialPortalRender","string","found","dataset","valuetext","startsWith","indexOf","popover","action","max","min"],"sources":["/Users/shashank/Documents/GitHub/AgileWebsiteApp/node_modules/@reach/menu-button/node_modules/@reach/dropdown/dist/reach-dropdown.mjs"],"sourcesContent":["\"use strict\";\n/**\n  * @reach/dropdown v0.18.0\n  *\n  * Copyright (c) 2018-2022, React Training LLC\n  *\n  * This source code is licensed under the MIT license found in the\n  * LICENSE.md file in the root directory of this source tree.\n  *\n  * @license MIT\n  */\n\n\n// src/reach-dropdown.tsx\nimport * as React from \"react\";\nimport { useId } from \"@reach/auto-id\";\nimport { Popover } from \"@reach/popover\";\nimport {\n  createDescendantContext,\n  DescendantProvider,\n  useDescendant,\n  useDescendants,\n  useDescendantsInit,\n  useDescendantKeyDown\n} from \"@reach/descendants\";\nimport {\n  composeEventHandlers,\n  createContext,\n  getOwnerDocument,\n  isFunction,\n  isString,\n  isRightClick,\n  useComposedRefs,\n  usePrevious,\n  useStatefulRefValue,\n  makeId\n} from \"@reach/utils\";\nvar CLEAR_SELECTION_INDEX = \"CLEAR_SELECTION_INDEX\";\nvar CLICK_MENU_ITEM = \"CLICK_MENU_ITEM\";\nvar CLOSE_MENU = \"CLOSE_MENU\";\nvar OPEN_MENU_AT_FIRST_ITEM = \"OPEN_MENU_AT_FIRST_ITEM\";\nvar OPEN_MENU_AT_INDEX = \"OPEN_MENU_AT_INDEX\";\nvar OPEN_MENU_CLEARED = \"OPEN_MENU_CLEARED\";\nvar SEARCH_FOR_ITEM = \"SEARCH_FOR_ITEM\";\nvar SELECT_ITEM_AT_INDEX = \"SELECT_ITEM_AT_INDEX\";\nvar SET_BUTTON_ID = \"SET_BUTTON_ID\";\nvar DropdownDescendantContext = createDescendantContext(\"DropdownDescendantContext\");\nvar [DropdownProvider, useDropdownContext] = createContext(\"Dropdown\");\nvar initialState = {\n  triggerId: null,\n  isExpanded: false,\n  typeaheadQuery: \"\",\n  selectionIndex: -1\n};\nvar DropdownProvider_ = ({\n  id,\n  children\n}) => {\n  let triggerRef = React.useRef(null);\n  let dropdownRef = React.useRef(null);\n  let popoverRef = React.useRef(null);\n  let [descendants, setDescendants] = useDescendantsInit();\n  let _id = useId(id);\n  let dropdownId = id || makeId(\"menu\", _id);\n  let triggerId = makeId(\"menu-button\", dropdownId);\n  let [state, dispatch] = React.useReducer(reducer, {\n    ...initialState,\n    triggerId\n  });\n  let triggerClickedRef = React.useRef(false);\n  let selectCallbacks = React.useRef([]);\n  let readyToSelect = React.useRef(false);\n  let mouseDownStartPosRef = React.useRef({ x: 0, y: 0 });\n  React.useEffect(() => {\n    if (state.isExpanded) {\n      window.__REACH_DISABLE_TOOLTIPS = true;\n      window.requestAnimationFrame(() => {\n        focus(dropdownRef.current);\n      });\n    } else {\n      window.__REACH_DISABLE_TOOLTIPS = false;\n    }\n  }, [state.isExpanded]);\n  return /* @__PURE__ */ React.createElement(DescendantProvider, {\n    context: DropdownDescendantContext,\n    items: descendants,\n    set: setDescendants\n  }, /* @__PURE__ */ React.createElement(DropdownProvider, {\n    dispatch,\n    dropdownId,\n    dropdownRef,\n    mouseDownStartPosRef,\n    popoverRef,\n    readyToSelect,\n    selectCallbacks,\n    state,\n    triggerClickedRef,\n    triggerRef\n  }, isFunction(children) ? children({\n    isExpanded: state.isExpanded,\n    isOpen: state.isExpanded\n  }) : children));\n};\nDropdownProvider_.displayName = \"DropdownProvider\";\nfunction useDropdownTrigger({\n  onKeyDown,\n  onMouseDown,\n  id,\n  ref: forwardedRef,\n  ...props\n}) {\n  let {\n    dispatch,\n    dropdownId,\n    mouseDownStartPosRef,\n    triggerClickedRef,\n    triggerRef,\n    state: { triggerId, isExpanded }\n  } = useDropdownContext(\"useDropdownTrigger\");\n  let ref = useComposedRefs(triggerRef, forwardedRef);\n  let items = useDropdownDescendants();\n  let firstNonDisabledIndex = React.useMemo(() => items.findIndex((item) => !item.disabled), [items]);\n  React.useEffect(() => {\n    if (id != null && id !== triggerId) {\n      dispatch({\n        type: SET_BUTTON_ID,\n        payload: id\n      });\n    }\n  }, [triggerId, dispatch, id]);\n  React.useEffect(() => {\n    if (id == null) {\n      dispatch({\n        type: SET_BUTTON_ID,\n        payload: makeId(\"menu-button\", dropdownId)\n      });\n    }\n  }, [dropdownId, dispatch, id]);\n  function handleKeyDown(event) {\n    switch (event.key) {\n      case \"ArrowDown\":\n      case \"ArrowUp\":\n        event.preventDefault();\n        dispatch({\n          type: OPEN_MENU_AT_INDEX,\n          payload: { index: firstNonDisabledIndex }\n        });\n        break;\n      case \"Enter\":\n      case \" \":\n        dispatch({\n          type: OPEN_MENU_AT_INDEX,\n          payload: { index: firstNonDisabledIndex }\n        });\n        break;\n      default:\n        break;\n    }\n  }\n  function handleMouseDown(event) {\n    if (isRightClick(event.nativeEvent)) {\n      return;\n    }\n    mouseDownStartPosRef.current = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    if (!isExpanded) {\n      triggerClickedRef.current = true;\n    }\n    if (isExpanded) {\n      dispatch({ type: CLOSE_MENU });\n    } else {\n      dispatch({ type: OPEN_MENU_CLEARED });\n    }\n  }\n  return {\n    data: {\n      isExpanded,\n      controls: dropdownId\n    },\n    props: {\n      ...props,\n      ref,\n      id: triggerId || void 0,\n      onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown),\n      onMouseDown: composeEventHandlers(onMouseDown, handleMouseDown),\n      type: \"button\"\n    }\n  };\n}\nvar DropdownTrigger = React.forwardRef(({ as: Comp = \"button\", ...rest }, forwardedRef) => {\n  let { props } = useDropdownTrigger({ ...rest, ref: forwardedRef });\n  return /* @__PURE__ */ React.createElement(Comp, {\n    \"data-reach-dropdown-trigger\": \"\",\n    ...props\n  });\n});\nDropdownTrigger.displayName = \"DropdownTrigger\";\nfunction useDropdownItem({\n  index: indexProp,\n  isLink = false,\n  onClick,\n  onDragStart,\n  onMouseDown,\n  onMouseEnter,\n  onMouseLeave,\n  onMouseMove,\n  onMouseUp,\n  onSelect,\n  disabled,\n  onFocus,\n  valueText: valueTextProp,\n  ref: forwardedRef,\n  ...props\n}) {\n  let {\n    dispatch,\n    dropdownRef,\n    mouseDownStartPosRef,\n    readyToSelect,\n    selectCallbacks,\n    triggerRef,\n    state: { selectionIndex, isExpanded }\n  } = useDropdownContext(\"useDropdownItem\");\n  let ownRef = React.useRef(null);\n  let [valueText, setValueText] = React.useState(valueTextProp || \"\");\n  let setValueTextFromDOM = React.useCallback((node) => {\n    if (!valueTextProp && node?.textContent) {\n      setValueText(node.textContent);\n    }\n  }, [valueTextProp]);\n  let mouseEventStarted = React.useRef(false);\n  let [element, handleRefSet] = useStatefulRefValue(ownRef, null);\n  let descendant = React.useMemo(() => {\n    return {\n      element,\n      key: valueText,\n      disabled,\n      isLink\n    };\n  }, [disabled, element, isLink, valueText]);\n  let index = useDescendant(descendant, DropdownDescendantContext, indexProp);\n  let isSelected = index === selectionIndex && !disabled;\n  let ref = useComposedRefs(forwardedRef, handleRefSet, setValueTextFromDOM);\n  selectCallbacks.current[index] = onSelect;\n  function select() {\n    focus(triggerRef.current);\n    onSelect && onSelect();\n    dispatch({ type: CLICK_MENU_ITEM });\n  }\n  function handleClick(event) {\n    if (isRightClick(event.nativeEvent)) {\n      return;\n    }\n    if (isLink) {\n      if (disabled) {\n        event.preventDefault();\n      } else {\n        select();\n      }\n    }\n  }\n  function handleDragStart(event) {\n    if (isLink) {\n      event.preventDefault();\n    }\n  }\n  function handleMouseDown(event) {\n    if (isRightClick(event.nativeEvent)) {\n      return;\n    }\n    if (isLink) {\n      mouseEventStarted.current = true;\n    } else {\n      event.preventDefault();\n    }\n  }\n  function handleMouseEnter(event) {\n    let doc = getOwnerDocument(dropdownRef.current);\n    if (!isSelected && index != null && !disabled) {\n      if (dropdownRef?.current && dropdownRef.current !== doc.activeElement && ownRef.current !== doc.activeElement) {\n        dropdownRef.current.focus();\n      }\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index\n        }\n      });\n    }\n  }\n  function handleMouseLeave(event) {\n    dispatch({ type: CLEAR_SELECTION_INDEX });\n  }\n  function handleMouseMove(event) {\n    if (!readyToSelect.current) {\n      let threshold = 8;\n      let deltaX = Math.abs(event.clientX - mouseDownStartPosRef.current.x);\n      let deltaY = Math.abs(event.clientY - mouseDownStartPosRef.current.y);\n      if (deltaX > threshold || deltaY > threshold) {\n        readyToSelect.current = true;\n      }\n    }\n    if (!isSelected && index != null && !disabled) {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index,\n          dropdownRef\n        }\n      });\n    }\n  }\n  function handleFocus() {\n    readyToSelect.current = true;\n    if (!isSelected && index != null && !disabled) {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index\n        }\n      });\n    }\n  }\n  function handleMouseUp(event) {\n    if (isRightClick(event.nativeEvent)) {\n      return;\n    }\n    if (!readyToSelect.current) {\n      readyToSelect.current = true;\n      return;\n    }\n    if (isLink) {\n      if (mouseEventStarted.current) {\n        mouseEventStarted.current = false;\n      } else if (ownRef.current) {\n        ownRef.current.click();\n      }\n    } else {\n      if (!disabled) {\n        select();\n      }\n    }\n  }\n  React.useEffect(() => {\n    if (isExpanded) {\n      let id = window.setTimeout(() => {\n        readyToSelect.current = true;\n      }, 400);\n      return () => {\n        window.clearTimeout(id);\n      };\n    } else {\n      readyToSelect.current = false;\n    }\n  }, [isExpanded, readyToSelect]);\n  React.useEffect(() => {\n    let ownerDocument = getOwnerDocument(ownRef.current);\n    ownerDocument.addEventListener(\"mouseup\", listener);\n    return () => {\n      ownerDocument.removeEventListener(\"mouseup\", listener);\n    };\n    function listener() {\n      mouseEventStarted.current = false;\n    }\n  }, []);\n  return {\n    data: {\n      disabled\n    },\n    props: {\n      id: useItemId(index),\n      tabIndex: -1,\n      ...props,\n      ref,\n      \"data-disabled\": disabled ? \"\" : void 0,\n      \"data-selected\": isSelected ? \"\" : void 0,\n      \"data-valuetext\": valueText,\n      onClick: composeEventHandlers(onClick, handleClick),\n      onDragStart: composeEventHandlers(onDragStart, handleDragStart),\n      onMouseDown: composeEventHandlers(onMouseDown, handleMouseDown),\n      onMouseEnter: composeEventHandlers(onMouseEnter, handleMouseEnter),\n      onMouseLeave: composeEventHandlers(onMouseLeave, handleMouseLeave),\n      onMouseMove: composeEventHandlers(onMouseMove, handleMouseMove),\n      onFocus: composeEventHandlers(onFocus, handleFocus),\n      onMouseUp: composeEventHandlers(onMouseUp, handleMouseUp)\n    }\n  };\n}\nvar DropdownItem = React.forwardRef(({ as: Comp = \"div\", ...rest }, forwardedRef) => {\n  let { props } = useDropdownItem({ ...rest, ref: forwardedRef });\n  return /* @__PURE__ */ React.createElement(Comp, {\n    \"data-reach-dropdown-item\": \"\",\n    ...props\n  });\n});\nDropdownItem.displayName = \"DropdownItem\";\nfunction useDropdownItems({\n  id,\n  onKeyDown,\n  ref: forwardedRef,\n  ...props\n}) {\n  let {\n    dispatch,\n    triggerRef,\n    dropdownRef,\n    selectCallbacks,\n    dropdownId,\n    state: { isExpanded, triggerId, selectionIndex, typeaheadQuery }\n  } = useDropdownContext(\"useDropdownItems\");\n  let items = useDropdownDescendants();\n  let ref = useComposedRefs(dropdownRef, forwardedRef);\n  React.useEffect(() => {\n    let match = findItemFromTypeahead(items, typeaheadQuery);\n    if (typeaheadQuery && match != null) {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index: match,\n          dropdownRef\n        }\n      });\n    }\n    let timeout = window.setTimeout(() => typeaheadQuery && dispatch({ type: SEARCH_FOR_ITEM, payload: \"\" }), 1e3);\n    return () => window.clearTimeout(timeout);\n  }, [dispatch, items, typeaheadQuery, dropdownRef]);\n  let prevItemsLength = usePrevious(items.length);\n  let prevSelected = usePrevious(items[selectionIndex]);\n  let prevSelectionIndex = usePrevious(selectionIndex);\n  React.useEffect(() => {\n    if (selectionIndex > items.length - 1) {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index: items.length - 1,\n          dropdownRef\n        }\n      });\n    } else if (prevItemsLength !== items.length && selectionIndex > -1 && prevSelected && prevSelectionIndex === selectionIndex && items[selectionIndex] !== prevSelected) {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index: items.findIndex((i) => i.key === prevSelected?.key),\n          dropdownRef\n        }\n      });\n    }\n  }, [\n    dropdownRef,\n    dispatch,\n    items,\n    prevItemsLength,\n    prevSelected,\n    prevSelectionIndex,\n    selectionIndex\n  ]);\n  let handleKeyDown = composeEventHandlers(function handleKeyDown2(event) {\n    let { key } = event;\n    if (!isExpanded) {\n      return;\n    }\n    switch (key) {\n      case \"Enter\":\n      case \" \":\n        let selected = items.find((item) => item.index === selectionIndex);\n        if (selected && !selected.disabled) {\n          event.preventDefault();\n          if (selected.isLink && selected.element) {\n            selected.element.click();\n          } else {\n            focus(triggerRef.current);\n            selectCallbacks.current[selected.index] && selectCallbacks.current[selected.index]();\n            dispatch({ type: CLICK_MENU_ITEM });\n          }\n        }\n        break;\n      case \"Escape\":\n        focus(triggerRef.current);\n        dispatch({ type: CLOSE_MENU });\n        break;\n      case \"Tab\":\n        event.preventDefault();\n        break;\n      default:\n        if (isString(key) && key.length === 1) {\n          let query = typeaheadQuery + key.toLowerCase();\n          dispatch({\n            type: SEARCH_FOR_ITEM,\n            payload: query\n          });\n        }\n        break;\n    }\n  }, useDescendantKeyDown(DropdownDescendantContext, {\n    currentIndex: selectionIndex,\n    orientation: \"vertical\",\n    rotate: false,\n    filter: (item) => !item.disabled,\n    callback: (index) => {\n      dispatch({\n        type: SELECT_ITEM_AT_INDEX,\n        payload: {\n          index,\n          dropdownRef\n        }\n      });\n    },\n    key: \"index\"\n  }));\n  return {\n    data: {\n      activeDescendant: useItemId(selectionIndex) || void 0,\n      triggerId\n    },\n    props: {\n      tabIndex: -1,\n      ...props,\n      ref,\n      id: dropdownId,\n      onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown)\n    }\n  };\n}\nvar DropdownItems = React.forwardRef(({ as: Comp = \"div\", ...rest }, forwardedRef) => {\n  let { props } = useDropdownItems({ ...rest, ref: forwardedRef });\n  return /* @__PURE__ */ React.createElement(Comp, {\n    \"data-reach-dropdown-items\": \"\",\n    ...props\n  });\n});\nDropdownItems.displayName = \"DropdownItems\";\nfunction useDropdownPopover({\n  onBlur,\n  portal = true,\n  position,\n  ref: forwardedRef,\n  ...props\n}) {\n  let {\n    triggerRef,\n    triggerClickedRef,\n    dispatch,\n    dropdownRef,\n    popoverRef,\n    state: { isExpanded }\n  } = useDropdownContext(\"useDropdownPopover\");\n  let ref = useComposedRefs(popoverRef, forwardedRef);\n  React.useEffect(() => {\n    if (!isExpanded) {\n      return;\n    }\n    let ownerDocument = getOwnerDocument(popoverRef.current);\n    function listener(event) {\n      if (triggerClickedRef.current) {\n        triggerClickedRef.current = false;\n      } else if (!popoverContainsEventTarget(popoverRef.current, event.target)) {\n        dispatch({ type: CLOSE_MENU });\n      }\n    }\n    ownerDocument.addEventListener(\"mousedown\", listener);\n    return () => {\n      ownerDocument.removeEventListener(\"mousedown\", listener);\n    };\n  }, [\n    triggerClickedRef,\n    triggerRef,\n    dispatch,\n    dropdownRef,\n    popoverRef,\n    isExpanded\n  ]);\n  return {\n    data: {\n      portal,\n      position,\n      targetRef: triggerRef,\n      isExpanded\n    },\n    props: {\n      ref,\n      hidden: !isExpanded,\n      onBlur: composeEventHandlers(onBlur, (event) => {\n        if (event.currentTarget.contains(event.relatedTarget)) {\n          return;\n        }\n        dispatch({ type: CLOSE_MENU });\n      }),\n      ...props\n    }\n  };\n}\nvar DropdownPopover = React.forwardRef(({ as: Comp = \"div\", ...rest }, forwardedRef) => {\n  let {\n    data: { portal, targetRef, position },\n    props\n  } = useDropdownPopover({ ...rest, ref: forwardedRef });\n  let sharedProps = {\n    \"data-reach-dropdown-popover\": \"\"\n  };\n  return portal ? /* @__PURE__ */ React.createElement(Popover, {\n    ...props,\n    ...sharedProps,\n    as: Comp,\n    targetRef,\n    position,\n    unstable_skipInitialPortalRender: true\n  }) : /* @__PURE__ */ React.createElement(Comp, {\n    ...props,\n    ...sharedProps\n  });\n});\nDropdownPopover.displayName = \"DropdownPopover\";\nfunction findItemFromTypeahead(items, string = \"\") {\n  if (!string) {\n    return null;\n  }\n  let found = items.find((item) => {\n    return item.disabled ? false : item.element?.dataset?.valuetext?.toLowerCase().startsWith(string);\n  });\n  return found ? items.indexOf(found) : null;\n}\nfunction useItemId(index) {\n  let { dropdownId } = useDropdownContext(\"useItemId\");\n  return index != null && index > -1 ? makeId(`option-${index}`, dropdownId) : void 0;\n}\nfunction focus(element) {\n  element && element.focus();\n}\nfunction popoverContainsEventTarget(popover, target) {\n  return !!(popover && popover.contains(target));\n}\nfunction reducer(state, action = {}) {\n  switch (action.type) {\n    case CLICK_MENU_ITEM:\n      return {\n        ...state,\n        isExpanded: false,\n        selectionIndex: -1\n      };\n    case CLOSE_MENU:\n      return {\n        ...state,\n        isExpanded: false,\n        selectionIndex: -1\n      };\n    case OPEN_MENU_AT_FIRST_ITEM:\n      return {\n        ...state,\n        isExpanded: true,\n        selectionIndex: 0\n      };\n    case OPEN_MENU_AT_INDEX:\n      return {\n        ...state,\n        isExpanded: true,\n        selectionIndex: action.payload.index\n      };\n    case OPEN_MENU_CLEARED:\n      return {\n        ...state,\n        isExpanded: true,\n        selectionIndex: -1\n      };\n    case SELECT_ITEM_AT_INDEX: {\n      let { dropdownRef = { current: null } } = action.payload;\n      if (action.payload.index >= 0 && action.payload.index !== state.selectionIndex) {\n        if (dropdownRef.current) {\n          let doc = getOwnerDocument(dropdownRef.current);\n          if (dropdownRef.current !== doc?.activeElement) {\n            dropdownRef.current.focus();\n          }\n        }\n        return {\n          ...state,\n          selectionIndex: action.payload.max != null ? Math.min(Math.max(action.payload.index, 0), action.payload.max) : Math.max(action.payload.index, 0)\n        };\n      }\n      return state;\n    }\n    case CLEAR_SELECTION_INDEX:\n      return {\n        ...state,\n        selectionIndex: -1\n      };\n    case SET_BUTTON_ID:\n      return {\n        ...state,\n        triggerId: action.payload\n      };\n    case SEARCH_FOR_ITEM:\n      if (typeof action.payload !== \"undefined\") {\n        return {\n          ...state,\n          typeaheadQuery: action.payload\n        };\n      }\n      return state;\n    default:\n      return state;\n  }\n}\nfunction useDropdownDescendants() {\n  return useDescendants(DropdownDescendantContext);\n}\nexport {\n  DropdownItem,\n  DropdownItems,\n  DropdownPopover,\n  DropdownProvider_ as DropdownProvider,\n  DropdownTrigger,\n  useDropdownContext,\n  useDropdownDescendants,\n  useDropdownItem,\n  useDropdownItems,\n  useDropdownPopover,\n  useDropdownTrigger\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}